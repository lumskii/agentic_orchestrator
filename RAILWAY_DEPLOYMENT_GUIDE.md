# Complete Railway Deployment Guide

## ðŸŽ¯ Current Status: Backend Only on Railway

Railway is currently configured to deploy **only your backend API**. Here are your options to get the full app working:

---

## ðŸš€ Option 1: Frontend on Vercel + Backend on Railway (RECOMMENDED)

This is the **best and easiest** approach:

### Backend (Already Done âœ…)
- Railway hosts your Node.js/Fastify API
- URL: `https://your-app.railway.app/api/*`

### Frontend (Deploy to Vercel)
1. **Sign up at [vercel.com](https://vercel.com)**
2. **Connect your GitHub repo** (`lumskii/agentic_orchestrator`)
3. **Configure build settings:**
   - Build Command: `cd frontend && npm run build`
   - Output Directory: `frontend/.next`
   - Root Directory: `frontend`
4. **Set environment variable:**
   - `NEXT_PUBLIC_API_URL` = `https://your-app.railway.app`
5. **Deploy!** âœ¨

**Result**: 
- Frontend: `https://your-app.vercel.app` (full UI)
- Backend: `https://your-app.railway.app/api` (API only)

---

## ðŸš€ Option 2: Both Frontend + Backend on Railway

Deploy everything to Railway as a single service:

### Step 1: Update Frontend API Configuration
First, we need to make the frontend use Railway's backend URL:

```typescript
// frontend/lib/api.ts - Update this
const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000';
```

### Step 2: Create Full-Stack Railway Config
I'll create the configuration for you:

### Step 3: Add Environment Variables in Railway
- `NEXT_PUBLIC_API_URL` = `https://$RAILWAY_PUBLIC_DOMAIN`
- `OPENAI_API_KEY` = your OpenAI key
- `DATABASE_URL` = (auto-generated by Railway PostgreSQL)

---

## ðŸš€ Option 3: Frontend Locally + Backend on Railway

Keep using your local frontend during development:

### Update Frontend to Use Railway Backend
```typescript
// frontend/lib/api.ts
const API_BASE_URL = 'https://your-app.railway.app';
```

**Result**: 
- Frontend: `http://localhost:3001` (local development)
- Backend: `https://your-app.railway.app/api` (production)

---

## ðŸ“‹ Railway Deployment Steps (Current Backend)

1. **Check Railway Dashboard**
   - Go to [railway.app](https://railway.app)
   - Find your `agentic_orchestrator` project
   - Note the URL: `https://[your-app].up.railway.app`

2. **Add PostgreSQL Database**
   - Click "Add Service" â†’ "PostgreSQL"
   - This creates `DATABASE_URL` automatically

3. **Set Environment Variables**
   ```bash
   OPENAI_API_KEY=sk-your-openai-key-here
   NODE_ENV=production
   # TIGER_API_KEY is optional (app works in mock mode)
   ```

4. **Test Backend API**
   ```bash
   curl https://your-app.railway.app/api/health
   # Should return: {"status":"ok","timestamp":"..."}
   ```

---

## ðŸŽ¯ Recommended Next Steps

**I recommend Option 1 (Vercel + Railway)** because:
- âœ… **Fastest to set up** (5 minutes)
- âœ… **Best performance** (Vercel optimized for Next.js)
- âœ… **Free tier** for both services
- âœ… **Automatic deployments** from GitHub
- âœ… **Professional URLs**

Would you like me to help you set up the Vercel deployment, or would you prefer to try Option 2 (full Railway deployment)?